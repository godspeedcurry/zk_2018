算法部分

1. 识别的平台

   ROS

   ROS(Robot Operating System)是一个基于Linux的开源操作系统，目的在于构建一个能够整合不同研究成果，实现算法，代码重用的机器人软件平台。ROS是当前比较流行的机器人控制框架，它让我们节省时间构建机器人的系统框架，更专注算法层面的研究。极大的提高了开发效率。提供了包括硬件抽象描述、底层设备控制、常用功能的实现，程序间信息的传递、程序包管理以及一些可视化数据程序和软件库，并在此平台的基础上开源了很多诸如定位构图，运动与规划，感知与决策等应用软件包。

   选用平台的原因：争取避免传统算法检测准确率不高带来的弊端，红外巡线易受干扰，精度不高。ROS这个平台上有很多库，方便我们使用，可对外接设备支持性较好。我们选用激光雷达对整个场地进行地图构建，使用姿态传感器得到角速度,加速度等数据,用光流传感器得到形如x轴 y轴方向上的数据用于估计位置

2. 识别的目的及大致步骤

   传统的机器人采用雷达来检测障碍物，而在高速情况下，对雷达的检测距离和精度要求非常高，高精度的雷达价格太高承受不起，而基于摄像头的方案成本将大大降低。基于物体识别的避障，还能通过指定不同的策略来应对不断变化的场景，使机器人避障更加智能。这个比赛中也是我们学习并实践的好机会。

   **针对圆环**:采用彩色摄像机拍照，定时拍照交由程序检测，程序检测出位置后反馈给控制器，判断是否选择抓取，由控制器控制机械臂进行住抓取，因此关键是识别出圆心的位置

3. 识别的算法

   SLAM（Simultaneous Localization and Mapping）也称为CML（concurrent mapping and localization），即同时定位与地图构建

   在ROS中提供的五种基于2D激光的SLAM算法分别是：

   `HectorSLAM，Gmapping，KartoSLAM，CoreSLAM和LagoSLAM`

   我们将使用型号为Rplidar A1的激光雷达，基于gmapping这个算法建图

   **目标**：通过将识别出的物体（在比赛中我们将主要针对圆环识别）及位置信息，标注在SLAM得到的地图上，可以极好地提高地图的可读性和人机交互的便利性。建图的主要目的是识别敌方，如果敌方进入威胁区域，机器人需要做出反应。

   **圆环的特点**：形状特征，颜色特征

   **针对圆环的检测算法**：

   ① 使用opencv判断圆 算法暂时考虑用霍夫曼 目前测试过发现准确性很差 考虑是参数设置的问题 如果还不行尝试更换算法

   ② 颜色识别

   ——将图像转换到HSV空间，避免现场光照带来的影响

   ——通过设定不同的阈值来确定不同的颜色，不断调试确定合适值

   ③ 搜索ROS中是否有现成的库可以替代①② 有的话调用一下 比较二者准确率 选择准确率高 鲁棒性好的一种

   **针对敌方的检测算法：**

   考虑到场地中敌方大多数时候的位置是移动的，因此我们可以针对场景建模，得到固定位置的建筑坐标，将这一图作为基础图，在真实比赛中，会临时建图，二者比较，提取数据进行分析，判断敌方是否靠近 决定是否避让

   ——**实现的难点**：怎么避让，往哪避让，周边有障碍物如何避让？算法的时间复杂度

4. 识别成功的行为

   **针对圆环：**

   1. 根据识别出的形状 确定中心点 调整机器人方向 慢速逼近这个位置
   2. 距离到一定范围内之后控制机械臂进行抓取 放到预先做好的柱子上
   3. 恢复到原有程序的执行过程

   **针对敌方：**

   1. 距离进入一定范围 停止当前动作，选择避让
   2. 恢复到原有程序的执行过程

5. 识别失败的行为

   1. 相当于检测程序无返回，因此可以直接忽略